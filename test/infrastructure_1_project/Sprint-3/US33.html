<html xmlns:concordion="http://www.concordion.org/2007/concordion" xmlns:cc="http://fewi.custom.commands.FewiExtensions">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
	table {border-collapse: collapse; padding-bottom:5px; margin-bottom:5px;}
	table, th, td {border: 1px solid #CCCCCC;}
	td, th {padding:2px;}
	.man {background-color:#FFFFCC;}
	ul {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	ol {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	li {padding-left:2px; padding-top:0px; padding-bottom:0px; margin-left:25px;}
	p {margin:2px 0px;}
</style>

    <title>User Story 33</title>
</head>

<body>

<div id="maintitle"><h1>Allele Detail - convert to fewi</h1>
    <ul>
        <li>User Story 33  - Allele Detail - convert to fewi</li>
    </ul>
</div><div id="TOC">
	<p>Contents: <a href="#maintitle">Title</a> | <a href="#acceptance">Test Requirements</a> | <a href="#manual">Manual Tests</a> | <a href="#sql">SQL Tests</a></p>
</div>



<div id="acceptance">
    <h2>Test Requirements</h2>
    <p>
    The conversion of the Allele Detail page from the java wi to the fewi is intended to maintain the same functionality and display.  
    See the Public WI for display details such as font style, size, positioning, etc.</p>
    <p>
    There are 3 recently completed "ribbons" on this page that have already been implemented in the fewi and the intent is 
    to leave those as-is.  This document does not include functionality or tests for those ribbons.  The plan is to use any 
    existing automated tests for those ribbons to verify nothing has been broken. </p>
    <p>
    The requirements below are organized by "ribbon". If no data for a ribbon exists then do not display the ribbon with the 
    exception of the Find Mice ribbon -- which is displayed even if nothing is found in IMSR.
    </p>
    <p>Page should display/function correctly for all supported browsers:  I/E, Firefox, Safari.</p>
    <h3>Allele Page Header Area</h3>
    <ol>
       <li>PAGE HEADING
       <ol><li>Display the Allele symbol as the primary title of the page.  The text in &lt;&gt; is displayed as a superscript.</li>
           <li>The subtitle of the page is generally speaking the Allele Type, but special rules exist:
           <ol><li>Allele Type = QTL; Display "QTL Variant Detail" </li>
               <li>For transgenes (Marker type = Transgene?); Display "Transgene Detail"</li>
               <li>Allele Type = Not Specified or Not Applicable; Display "Allele Detail"</li>
               <li>Allele Types that have parens, e.g. Targeted (knock-out); Display "Targeted Allele Detail"</li>
               <li>Allele Type that do NOT have parens, e.g. Spontaneous; Display "Spontaneous Allele Detail"</li>
           </ol></li>    
       </ol></li>
       <li>BROWSER TITLE
       <ol><li>The window (or tab) title = Allele symbol + subtitle (as defined above)</li>
           <li>The superscript portion of the Allele symbol should be displayed using &lt;&gt; notations.
       </ol></li>
       <li>HELP
       <ol><li>Display the standard User Help ? icon and link to the existing User Help document - userhelp/ALLELE_detail_help.shtml </li>
       </ol></li>
       <li>YOUR INPUT WELCOME
       <ol><li>Display the Your Input Welcome button. </li>
           <li>Display "RE: Allele [allele symbol] [mgi id]" in the Subject field of the form</li>
       </ol></li>
       <li>TABLE OF CONTENTS
       <ol><li>Build a table of contents that includes anchor tags for the existing ribbons on the page</li>
           <li>The names in the TOC should match the ribbon text even if they vary for QTLs or Transgenes</li>
       </ol></li>
    </ol>
    
    <h3>Page Ribbons</h3>
	<ol>
	   <li>NOMENCLATURE
	   <ul><li><u>List of fields</u>
	       <ol><li>Symbol / QTL Variant
	           <ul><li>The label of this field is "Symbol" for all allele types except QTL.  For QTLs display "QTL Variant".</li>
	               <li>Superscripts and special characters may be displayed in this field.</li>
	           </ul></li>
	           <li>Name
	           <ul><li>The name displayed is a concatenation of gene and allele names.  "gene name; allele name"</li>
	               <li>When gene and allele names are the same - only display one of the names.</li>
	               <li>Superscripts and special characters may be displayed in this field.</li>
	           </ul></li>
	           <li>MGI ID</li>
	           <li>Synonyms
	           <ul><li>When multiple synonyms exist display as a comma delimited list</li>
	               <li>Superscripts and special characters may be displayed in this field.</li>
	           </ul></li>
	           <li>Gene / QTL / Transgene
	           <ul><li>Data displayed for this field: marker symbol, location (chr, coords, strand), genetic position (chr, cM, cytoband)</li>
	               <li>When a marker has a null strand, do not display the "strand" label</li>
	               <li>Markers with no coordinates will appear with an "unknown" genomic location</li>
	               <li>A marker with no cM position (-1.0) or cytogenetic band will display a "Syntenic" genetic position.</li>
	               <li>QTL cM offsets are prefixed by: "cM position of peak correlated region/allele"</li>
	               <li>Label for this field is "Gene" with two exceptions: QTL markers display "QTL" and Transgene Markers display "Transgene"</li>
	               <li>Link symbol to Marker Detail except transgene markers that are not linked.  There are 2 ways we determine if it's a transgene marker
	               <ol><li>A transgene allele is the only allele for a marker</li>
	                   <li>The allele type starts with "Transgenic"</li>
	               </ol></li>
	               <li>When alleles with no associated marker (loaded GTs) are displayed, this section is not included.</li>
	           </ul></li>
	           <li>Allele Images 
	           <ul><li>These images are associated to the Allele in the EI (these are not genotype or molecular images)</li>
	               <li>Display primary image for allele - designated by the curators in the EI.  There may be alleles that have images where none are designated as primary.</li>
	               <li>Display the image caption, count of allele images, and link to all allele images.</li>
	               <li>Superscripts and special characters may be displayed in the image caption field.</li>
	           </ul></li>
	      </ol></li>
	   </ul></li>
	   
	   <li>MUTATION / VARIANT / TRANSGENE ORIGIN
	   <ul><li><u>List of fields </u>
	           <ol><li>Mutant Cell Line
	                  <ul><li>Display: mutant cell lines in bold followed by the provider in parens - provider not linked except for the following
	                      <ul>
	                          <li>KOMP alleles link to the KOMP website via an ID
	                          <ol><li>A KOMP allele is defined as any allele with either a EUCOMM, NorCOMM, or CSD id associated to it</li>
	                              <li>The provider text displayed is a link to the KOMP website whatever ID is present for the allele</li>
	                          </ol></li>
	                          <li>Velocigene alleles link to the Velocigene website using the first mutant cell line ID in the list for the allele (question - how do we identify Velocigene alleles? existence of a Regeneron id?)</li>
	                      </ul></li>
	                      <li>Multiple cell lines are displayed in comma-delimited list and the label is changed to plural, Mutant Cell Lines</li>
	                  </ul></li>
	               <li>Germline Transmission / Mouse Generated
	                  <ul><li>Transmission is displayed if the value is not "Not Applicable".</li>
	                      <li>When a Germ Line Transmission = Germline: 
	                         <ul><li>display text: "Earliest citation of germline transmission:" and J# link (use Transmission Reference).</li>
	                         </ul></li>
	                      <li>When a Germline Transmission = Chimera:
	                         <ul><li>display "Earliest citation of chimera generation:" and J# link (use Transmission Reference)  </li>
	                             <li>Label of field is changed from "Germline Transmission" to "Mouse Generated"</li>
	                         </ul> </li>
	                      <li>When a Germline Transmission = cell line:
	                         <ul><li>If IMSR reports strains exist for this allele, display "Germline transmission reported".  No reference.</li>
	                             <li>If IMSR does not report any strains - display "Unknown".
	                         </ul> </li>
	                  </ul></li>
	               <li>Parent Cell Line
	               <ul><li>The type of parent cell line is displayed in parens following the field.  e.g. ES Cell vs. Spermatogonial Cell</li>
	               </ul></li>
	               <li>Strain of Origin / Strain of Specimen 
	               <ul><li>The label of this field is "Strain of Origin" except for QTLs when it is "Strain of Specimen".</li>
	                   <li>Superscripts and special characters are supported for this field.</li>
	                   <li>If this field is null - do not display</li>
	               </ul></li>
	           </ol>
	       <li><u>Rules for this ribbon</u>
	           <ol>
	              <li>Label of ribbon is "Mutation Origin" for most alleles.  Exceptions include 1) QTLs-display "Variant Origin" 
	                  and 2) Transgenes - display "Transgene Origin".</li>
	              <li>Label of section should match TOC</li>
	              <li>Show this ribbon if: 1) ES Cell line is not null; OR 2) Strain of Origin is not null; or 3) Mutant ES cell lines
	                                          is not null and there is at least one mutant ES Cell line.</li>
	           </ol></li>
	    </ul></li>
	   
	   <li>MUTATION / VARIANT / TRANSGENE DESCRIPTION
	   <ul><li><u>List of fields</u>
	       <ol><li>Allele Type 
	           <ul><li>For transgenes this label is "Transgene Type"</li>
	               <li>There are 20 allele types (list included in test cases below)</li>
	           </ul></li>
	           <li>Mutation
	               <ul><li>Data displayed for this field: mutation types, vector,  vector type, and mutation description.
	                   <ul><li>there can be multiple mutation types displayed in a comma-delimited list</li>
	                       <li>Mutation can be "Undefined" if the allele does not have a defined mutations</li>
	                       <li>If multiple vectors exist we just display the first one</li>
	                   </ul></li>
	                   <li>The description is the Molecular Notes field in the Allele EI.</li>
	                   <li>The J# at the end of the description is the molecular reference and is linked to the Reference page</li>
	                   <li>There can be multiple references displayed in a comma-delimited list</li>
	                   <li>Long mutations include show/hide with default of hide - triggered if length is > 100 characters</li>
	                   <li>HTML markup is valid in mutation description (aka molecular notes)</li>
	               </ul></li>
	           <li>Inheritance
	           <ul><li>If mode is "Not Applicable" then do not display this field</li></ul></li>
	           <li>Sequence Tags
	               <ul><li>This field includes a show/hide option where the default is hide when the page is rendered</li>
	                   <li>A count of the tags is displayed in text at the top of the table in either show or hide mode</li>
	                   <li>The sequence tag table includes the following data for each sequence:
	                   <ol><li>Tag ID; Provider; link to provider</li>
	                       <li>GenBank ID; link to Sequence Detail</li>
	                       <li>Method</li>
	                       <li>Tag Location: chr, start, end, strand
	                       <ul><li>A sequence with multiple good hits to the genome should display "multiple" for location</li>
	                           <li>A sequence with no good hits to the genome should display "unknown" for location</li>
	                       </ul></li>
	                       <li>Radio button for FASTA, Blast (can only select one sequence at a time)</li>
	                    </ol></li>
	                    <li>Include controls for FASTA/Forward option in pulldown menu.</li>
	                    <li>Display the current Genome Build</li>
	               </ul></li>
	           <li>Genome Context
	               <ol><li>This field includes a show/hide option where the default is hide when the page is rendered</li>
	                   <li>Display a thumbnail of gbrowse with a blue line of the gene trap location.  Link the image to GBrowse.
	                   <ul><li>include a 5kb buffer around the coordinates for gbrowse thumbnail and link</li></ul></li>
	                   <li>Display a count of all gene traps for the gene.  Link the count to GBrowse.</li>
	               </ol></li>
	       </ol></li>
	       
	       <li><u>Rules for this ribbon</u>
	       <ol><li>Label of ribbon is "Mutation Description" for most alleles.  Exceptions include: 1) QTLs- display "Variant Description" 
	                  and 2) Transgenes - display "Transgene Description".</li>
	       </ol></li>
	   </ul></li>
	   
	   <li>RECOMBINASE ACTIVITY
	   <ul><li>currently implemented in the fewi using an ajax call - no plan to change this</li></ul></li>
	   <li>PHENOTYPES
	   <ul><li>currently implemented in the fewi using an ajax call - no plan to change this</li></ul></li>
	   <li>DISEASE MODELS
	   <ul><li>currently implemented in the fewi using an ajax call - no plan to change this</li></ul></li>
	   
	   <li>EXPRESSION
	   <ul><li><u>List of fields:</u>
	       <ol><li>In Mice Carrying this Mutation
	           <ul><li>Display count of assay results</li>
	               <li>Link to Assay Summary and display Results tab</li>
	           </ul> </li>
	       </ol></li>
	   </ul></li>
	   
	   <li>FIND MICE (IMSR)
	   <ul><li><u>List of fields</u>
	       <ol><li>Carrying this mutation
	            <ul><li>Mouse Strains - count and link if non-zero</li>
	            <li>Cell Lines - count and link if non-zero</li>
	            <li>If either/both of the counts are zero - display 0 without a link</li>
	            </ul></li>
	           <li>Carrying any Xxx mutation
	            <ul><li>Xxx represents the applicable gene symbol displayed here</Xxx>
	                <li>Strains or lines - count and link if non-zero</li>
	                <li>If count is zero - display 0 without a link</li>
	                <li>This field is not displayed for Transgenes or Alleles with no associated Marker</li>
	            </ul></li>
	       </ol></li>
	       <li><u>Rules for this ribbon</u>
	       <ol><li>These counts are found in a report.... (more info here)</li>
	           <li>This ribbon is displayed even when the counts found are zero</li>
	           <li>Do not display this ribbon for QTL alleles.</li>
	       </ol>
	   </ul></li>
	   
	   <li>NOTES
	   <ul><li>List of note types displayed in this section
	        <ol><li>Derivation Notes (for cell lines)
	            <ul><li>recognize HTML mark-up?</li>
	            </ul>
	        
	            <li>General Notes (for an allele)
	            <ul>
	                <li>Recognize HTML mark-up</li>
	            </ul></li> 
	            <li>Mapping Notes (for a marker)
	            <ul><li>For QTL alleles look for mapping notes via the QTL marker and display.</li>
	                <li>Display a special heading for these notes</li>
	                <li>Display/link the associated J# (associated via QTL marker)</li> 
	                <li>If General Notes also exist for a QTL those are displayed first.</li>
	            </ul></li>
	            <li>Special note and link for Deltagen and Lexicon alleles 
	            <ul><li>all alleles on the Deltagen/Lexicon KO page have this link (currently driven by a cache table)</li>
	                <li>Link to the corresponding Deltagen or Lexicon data page for the allele.</li>
	            </ul></li>
	        </ol></li>
	   </ul></li>
	   
	   <li>REFERENCES
	   <ul><li><u>List of fields:</u>
	       <ol><li>Original
	           <ul><li>Display the citation using the "Short" option (one of the fewi standards - same as Marker Detail).</li>
	               <li>Link the J# to the Reference</li>
	           </ul></li>
	           <li>All
	           <ul><li>Count of all references for the allele and linked to the Reference Summary for an Allele</li>
	               <li>Display "reference(s)" so that the label does not need tweaking if there's just one reference.</li>
	           </ul></li>
	       </ol></li>
	   </ul></li>
	   
	   
	   
	   
	   
	</ol>
	<h3>SEO - search engine optimization</h3>
	
	<ol>
	    <li>KEYWORDS
	    <ol><li>For all alleles, include: mouse, mice, murine, Mus, allele</li>
	        <li>For “Targeted (knock-out)” alleles, add:  null, KO, knock out, knockout</li>
            <li>For “Targeted (Floxed/Frt)” alleles, add:  floxed, loxP, frt</li>
            <li>For “Cre” or “Flp” alleles, add:  recombinase, flp, cre, flpe</li>
            <li>For “Transposase” alleles, add:  transposase</li>
            <li>For alleles other than QTL or “Not Applicable”, add:  mutant, mutation</li>
            <li>For all alleles, add the allele symbol – including  &lt;&gt; notation but not &lt;sup&gt; HTML  tags.</li>
            <li>For all alleles, add synonyms.</li>
            <li>For transgene alleles, add: transgenic</li>
            <li>For alleles with allele types other than Not Applicable and Not Specified, add:  value of allele type</li>	    
	    </ol></li>
	    <li>DESCRIPTION
	    <ol><li>For all alleles, begin with “View” then the allele symbol (including   &lt;&gt; notation but not HTML  &lt;sup&gt; tags) then “ allele: origin “</li>
            <li>If the allele has molecular notes, add “, molecular description”</li>
            <li>If the allele has disease models, add “ and human disease models”</li>
            <li>If the allele has images, add “, images”</li>
            <li>For all alleles, end with “, gene associations, and references.”</li>
	    </ol></li>
	    <li>ROBOTS
	    <ol><li>Add the NOODP and NOYDIR tags for control of robots.</li>
	    </ol></li>
	</ol>
</div>


<div id="tests">
    <h2>Tests</h2>
    
	<div id="manual">
<!-- To insert manual test results, use the following:
<p concordion:assertTrue="true">testing assertTrue - displays as green</p>
<p concordion:assertTrue="false">testing assertFalse - displays as red</p>
 -->
		<h3>Manual tests</h3>
		
		<ol>
		
		    <li>Verify display for page subtitles; browser titles; table of contents
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>QTL Allele - MGI:3817480; Azdm1<sup>A/J</sup>
    		       <ul><li>Expected results: QTL page subtitle; QTL browser title, special QTL TOC text</li></ul> </li>
    		   <li>Transgene Allele (allele type starts Transgenic/marker type = Transgene) - MGI:4942357; symbol
    		       <ul><li>Expected results: Transgene page subtitle; Trangene browser title, special Transgene TOC text</li></ul> </li>
    		   <li>Transgenic Allele (allele type starts Transgenic/marker type is not Transgene) - MGI:2447997; symbol
    		       <ul><li>Expected results: Transgenic page subtitle; Trangene browser title, special Transgene TOC text</li></ul> </li>    
    		   <li>Not Applicable Allele - MGI:4421553 and Not Specified Allele - MGI:3773077.
    		   <ul><li>Expected results: Allele Detail page subtitle; browser title; standard TOC</li></ul>
    		   </li>
    		   <li>Targeted (knock-in) Allele - MGI:4442339; symbol
    		   <ul><li>Expected results: Targeted Detail page subtitle; browser title; standard TOC</li></ul>
    		   </li>
    		   <li>Gene trapped Allele - MGI:4380645; 1110001A16Rik<sup>Gt(EUCE00138c02)Hmgu</sup>
    		   <ul><li>Expected results: Gene trapped Detail page subtitle; browser title; standard TOC</li></ul>
    		   </li>
    		   <li>Allele without a superscript - MGI:1855937; a   Expected results:  page heading and browser title display as on Public.</li>
    		   <li>Allele with a superscript - MGI:2450287; symbol   Expected results:  page heading and browser title display as on Public.</li>
    		   <li>Allele with most ribbons present - MGI:3042214; Amhr2<sup>tm3(cre)Bhr</sup>   Expected results:  TOC contains most sections/links</li>
    	    </ol></li>
    	    
    	    <li>Verify Help and Your Input Welcome links
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with a superscript - MGI:1856424; Lep<sup>ob</sup></li>
    		   <li>Allele without a superscript - MGI:1889606; wfd</li>
    	    </ol></li>
    		
    		<li>Verify fields/links displayed in the Nomenclature Ribbon with what is displayed on Public.
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with all fields (incl synonyms) - MGI:1856155; Pax6<sup>Sey</sup></li>
    		   <li>Allele with all fields except synonyms - MGI:2680557; Pax6<sup>1Jrt</sup></li>
    		   <li>QTL Allele - MGI:3032996; Asthm1<sup>BALB/c</sup></li>
    		   <li>Transgene Allele - MGI:4819620; Tg(TRP53*R72P)7Dgj</li>
    		   <li>Allele name with special chars - MGI:1856264; Kit<sup>W-s</sup></li>
    		   <li>Allele symbol with special chars - MGI:5287502; Cript<sup>Tn(sb-rtTA)2427.SB1Ove</sup></li>
    		   <li>Synonyms with superscripts - MGI:3590153; Bach1<sup>tm1Igar</sup></li>
    		   <li>Synonyms with special chars - MGI:2678261; Cops3<sup>tm1Jrl</sup></li>
    	    </ol></li>
    	    
    	    <li>Verify Nomenclature Ribbon/Gene section - marker symbol, location (chr, coords, strand), genetic position (chr, cM, cytoband)
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with no associated marker - MGI:4971894; Expect: Gene field not to be included.</li>
    		   <li>Allele associated to a marker with a location and genetic position - MGI:2181391; Expect all values displayed for Gene</li>
    		   <li>Allele associated to a marker with a null strand - MGI:3664544; Expect: no strand or strand label to be displayed</li>
    		   <li>Allele associated to a marker with no cM (syntenic)- MGI:1856476; cw    Expect: syntenic</li>
    		   <li>Allele associated to marker with UN chr/no coordinates - MGI:2449154; Ahsp<sup>tm1Mjwe</sup>   Expect:Location: unknown  </li>
    		   <li>Allele with cytoband - MGI:1930612; Brca1<sup>tm1Cxd</sup></li>
    		   <li>QTL Allele with cM position - MGI:2386541;  Expect: special text displayed with cM</li>
    		   <li>Transgene allele associated to a non-Transgene marker - MGI:2447997; Expect: no link to Marker Detail page</li>
    	    </ol></li>
    	    
    	    <li>Verify Nomenclature Ribbon/Images - display the same as Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with a single image that is the primary one - MGI:1855930; A<sup>vy</sup></li>
    		   <li>Allele with multiple images and a primary image - MGI:1856798; A<sup>y</sup></li>
    		   <li>Allele with images but none that are primary - MGI:2176228; Tg(Alb-cre)21Mgn</li>
    		   <li>Allele with images that include movies - MGI:5285080</li>
    	    </ol></li>
    	    
    		<li>Verify fields/links displayed in the Mutation Origin Ribbon with what is displayed on Public.
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with only SOO - MGI:1855976; Tyr<sup>c</sup></li>
    		   <li>QTL Allele - MGI:3525662; Dbts<sup>SM/J</sup>.  Expect: Special labels for QTL</li>
    		   <li>Transgene Allele - MGI:3057119.  Expect: Special labels for transgenes.</li>
    		   <li>Strain with superscript - MGI:1856424; Lep<sup>ob</sup></li>
    		   <li>Strain with special chars - MGI:1855977; Tyr<sup>c-ch</sup></li>
    		   <li>Allele with PCL from Spermatogonial Cell Line (vs ES Cell) - MGI:3641043; Ocln<sup>tm1Tshi</sup></li>
    		   <li>Allele with PCL of Other (see notes) - MGI:4127920; Atad5<sup>Gt(RRF055)Byg</sup>
    		   <li>Allele with a null Strain of Origin - MGI:nnnnn - Expect SOO not displayed</li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for the Mutation Origin Ribbon - Mutant Cell Line field
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Gene trapped allele with an MCL - MGI:4128812; Expect: MCL and provider displayed - no links</li>
    		   <li>KOMP alleles - EUCOMM, NorCOMM, and CSD.  Displays MCLs and provider. Links provider to KOMP website.
    		   <ul><li>EUCOMM allele - MGI:5002962; Abo<sup>tm1a(EUCOMM)Hmgu</sup></li>
    		       <li>NorCOMM allele - MGI:4880118; Adcy1<sup>tm1(NCOM)Cmhd</sup></li>
    		       <li>CSD allele - MGI:5287737; Akap12<sup>tm1(KOMP)Mbp</sup> </li>
    		   </ul></li>
    		   <li>Velocigene allele - MGI:5051075; Brk1<sup>tm1(KOMP)Vlcg</sup>.  Expect: Provider link to VelociGene using the first MCL in the list</li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for the Mutation Origin Ribbon - Germline Transmission field
    		<p concordion:assertTrue="false">new test</p>  
    		<ol> 
    		   <li>Gene trapped allele - MGI:3794786; Expect: Germline transmission text displayed with link to J#</li>
    		   <li>Allele with no associated marker - MGI:3888734; Gt(D033B02)Wrst;  Expect:  Germline transmission Unknown.</li>
    		   <li>Allele with chimera germline - MGI:2388704; Trp53<sup>tm1Mok</sup>.  Expect: special chimera text and transmission label.</li>
    		   <li>Alleles with cell line germline - MGI:4880505; Abca9<sup>tm1(NCOM)Mfgc</sup>.  Expect Germline transmission Unknown.</li>
    		   <li>Allele with cell line germline that have strains in IMSR. - MGI:4399381.  Expect: Germline transmission reported. text with no J# links</li>
    	    </ol></li>
    	    
    	    
    	    <li>Verify fields/links displayed in the Mutation Description - same as Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with inheritance specified - MGI:3764995; Gpi1<sup>a-m1J</sup></li>
    		   <li>Allele with inheritance of Other (see notes) - MGI:3717789; Pbwg1.8<sup>M.m.castaneus</sup></li>
    		   <li>Allele with inheritance not specified - MGI:1856748; t<sup>Lub1</sup></li>
    		   <li>Allele with inheritance not applicable - MGI:1931734; symbol. Expect: Inheritance field not displayed</li>
    		   <li>Gene trapped allele with 2 MGI IDs - MGI:4966623, MGI:3883228; Gt(320D1)Cmhd
    	    </ol></li>
    	    
    	    <li>Verify fields/links for Mutation Description Ribbon - Allele Type field
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Alleles for each allele type. Expect: display the same as Public
    		   <ol><li>Spontaneous - MGI:1856819; Rab38<sup>cht</sup></li>
    		       <li>Targeted KO - MGI:3528234; Bag1<sup>tm1Msd</sup></li>
    		       <li>Targeted KI - MGI:4459318; Il13<sup>tm1(YFP/cre)Lky</sup></li>
    		       <li>Targeted Floxed/Frt - MGI:3803178; Arx<sup>tm1Gldn</sup></li>
    		       <li>Targeted Reporter - MGI:5319862; Bod1<sup>tm2e(KOMP)Wtsi</sup></li>
    		       <li>Targeted Other - MGI:5085999; Shank3<sup>tm1.1Pfw</sup></li>
    		       <li>Gene trapped (autoload) - MGI:4139198; 1700012C14Rik<sup>Gt(OST13273)Lex</sup></li>
    		       <li>Gene trapped - MGI:3848025; Timm23<sup>Gt(W023C08)Wrst</sup>
    		       <li>Chemically induced ENU - MGI:2671869; bhe</li>
    		       <li>Chemically induced other - MGI:2156821; Pax6<sup>9Neu</sup></li>
    		       <li>Chemically and radiation induced - MGI:1856404; a<sup>18H</sup></li>
    		       <li>Radiation induced - MGI:3032981; T(X;16)16H</li>
    		       <li>Transposon induced - MGI:3526109; Car12<sup>Tn(sb-T2/GT2/tTA)4563.1Dla</sup></li>
    		       <li>Transgenic random, expressed - MGI:3036319; Tg(Bc12)Acap. Expect: Transgene Type, ribbon labels.</li>
    		       <li>Transgenic random, gene disruption - MGI:1856421; Dst<sup>Tg4</sup>. Expect: Transgene Type, ribbon labels.</li>
    		       <li>Transgenic Cre/Flp - MGI:2651403; Tg(Dach1-cre)1Krs. Expect: Transgene Type, ribbon labels.</li>
    		       <li>Transgenic Cre/Flp - MGI:5440432; Tg(Ins2-flpe)25Arte. Expect: Transgene Type, ribbon labels.</li>
    		       <li>Transgenic Transposase - MGI:3719409; Tg(Prm1-pb)1Mrc. Expect: Transgene Type, ribbon labels.</li>
    		       <li>Transgenic Reporter - MGI:3768427; Tg(Neurog3-lacZ)1Ggr. Expect: Transgene Type, ribbon labels.</li>
    		       <li>QTL - MGI:2159319; Chab1<sup>DBA/2J</sup>. QTL ribbon label.</li>
    		       <li>Not Applicable - MGI:5305463; TgTn(sb-SBlac)CFsp.</li>
    		       <li>Not Specified - MGI:1856085; Mitf<sup>Mi</sup>.</li>
    		   </ol></li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for Mutation Description Ribbon - Mutation field.  Compare to Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with multiple mutation types - MGI:4399355; Cbr3<sup>tm1(KOMP)Vlcg</sup>. Expect: comma-delimited list of types</li>
    		   <li>Allele with single mutation type - MGI:5007045; Cbln4<sup>tm1Lex</sup></li>
    		   <li>Allele with no mutation type - MGI:4454664; Adamts4<sup>tm1Dqp</sup>.  Expect: Undefined.</li>
    		   <li>Allele with vector  - MGI:4456631; Sumo3<sup>tm1(KOMP)Mbp</sup></li>
    		   <li>Allele with vector type - MGI:4049566; Sp1<sup>Gt(IST12127D8)Tigm</sup>.  </li>
    		   <li>Allele with multiple vectors - MGI:nnnnn; symbol.  Expect:  Only display 1 vector</li>
    		   <li>Allele with short Molecular Note - MGI:3576635; chtl<sup>2J</sup>.  Expect: Note field displayed</li>
    		   <li>Allele with long Molecular Note - MGI:2447068; Cst6<sup>ichq</sup>.  Expect: Note field hidden by default.</li>
    		   <li>Allele with HTML markup in Molecular Note - MGI:3622350; In(7)4Rl.  Expect: HTML mark up to work okay.</li>
    		   <li>Allele with multiple molecular references - MGI:5008775; Acat2<sup>tm1a(KOMP)Wtsi</sup> .  Expect: comma delimited list of J# that link</li>
    		   <li>Allele without a Molecular Note - MGI:1856836; crz</li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for Mutation Description Ribbon - Sequence Tags field
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Gene trapped allele with single seq tag - MGI:4127340; Epcam<sup>Gt(RST412)Byg</sup></li>
    		   <li>Gene trapped allele with multiple seq tag - MGI:3873923; Tpx2<sup>Gt(D028B03)Wrst</sup></li>
    		   <li>Gene trapped allele with no sequence tags - MGI:2388061; Ltbp4<sup>Gt(U3Cre)1Vmel</sup>
    		   <li>Gene trapped alleles - various providers - MGI:3871767 (Wtsi);  </li>
    		   <li>Gene trapped allele with a seq tag with multiple good hits - MGI:4331065.  Expect: "multiple" displayed for location</li>
    		   <li>Gene trapped allele with a seq tag with no good hits - MGI:4123002.  Expect: "unknown" displayed for location</li>
    		   <li>Download to FASTA a single seq taq - use allele above, MGI:4127340</li>
    		   <li>Download to FASTA multiple seq tags - use allele above, MGI:3873923 </li>
    		   <li>Forward to Blast a single seq tag - use allele above, MGI:4127340</li>
    		   <li>Forward to Blast multiple seq tags- use allele above, MGI:3873923</li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for Mutation Description Ribbon - Genome Context field
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Gene trapped allele with a valid location, but not associated to a marker - MGI:4123240.  Expect: thumbnails and links using a 5kb buffer. 
    		      <ul><li>http://gbrowse.informatics.jax.org/cgi-bin/gb2/gbrowse/mouse38/?start=26968205;stop=26978313;ref=17;label=GeneTraps_Per_Gene-Gene_Traps_RNA_Tags-Gene_Traps_DNA_Tags-UCSC_CYTOBAND:overview  </li></ul></li>
    		   <li>Gene trapped allele with a valid location, associated to a marker - MGI:4314880.  Expect: thumbnails and links using a 5kb buffer. 
    		      <ul><li>http://gbrowse.informatics.jax.org/cgi-bin/gb2/gbrowse/mouse38/?start=8046078;stop=8069379;ref=5;label=GeneTraps_Per_Gene-Gene_Traps_RNA_Tags-Gene_Traps_DNA_Tags-UCSC_CYTOBAND:overview </li></ul></li>   
    		   <li>Gene trapped allele with multiple locations - MGI:4331065.  Expect: Genome Context field to NOT be displayed </li>
    		   <li>Gene trapped allele with unknown location - MGI:4123002.  Expect: Genome Context field to NOT be displayed </li>
    	    </ol></li>
    	    
    	   
    	    <li>Verify fields/links for Expression Ribbon - compare to Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with associated expression results - MGI:2429759; Disp1<sup>tm1Ptch</sup></li>
    		   <li>Allele without associated expression results - MGI:1856251; Kit<sup>W-55J</sup></li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for the Find Mice (IMSR) Ribbon - compare to Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with associated strains and cell lines in IMSR - MGI:4820320; Trp53rk<sup>tm1a(EUCOMM)Wtsi</sup></li>
    		   <li>Allele with associated strains and no cell lines in IMSR - MGI:1934384; Cxcl12<sup>tm1Tng</sup></li>
    		   <li>Allele with associated cell lines but no strains in IMSR - MGI:5428562; Prss30<sup>tm1e(KOMP)Wtsi</sup></li>
    		   <li>Allele with no association strains/cell lines in IMSR - MGI:1857894; Bmp2<sup>tm1Brd</sup></li>
    		   <li>Allele with strains/cell lines associated to marker of allele - MGI:1859780; Kit<sup>Ssm</sup></li>
    		   <li>Allele with no strains/cell lines associated to marker of allele - MGI:4944524; Sri<sup>tm1a(EUCOMM)Wtsi</sup></li>
    		   <li>Allele with no associated marker - MGI:4831701.  Expect: Field "Carrying any Xxxx Mutation" to not be displayed</li>
    		   <li>QTL allele -MGI:3032995.  Expect: IMSR ribbon not displayed</li>
    	    </ol></li>
    	    
    	     <li>Verify fields/links for Notes Ribbon - compare to Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with General notes - MGI:1856300; Hal<sup>his</sup></li>
    		   <li>Allele with General notes that include HTML mark-up - MGI:2157909; Uox<sup>in</sup></li>
    		   <li>QTL allele with Mapping notes - MGI:3032995; Asthm1<sup>BP2</sup></li>
    		   <li>QTL allele with General notes and Mapping notes - MGI:3036102; Pas2<sup>A/J</sup></li>
    		   <li>Deltagen allele - MGI:3604589; Grik5<sup>tm1Dgen</sup></li>
    		   <li>Lexicon allele - MGI:3529167; Pzp<sup>tm1Lex</sup></li>
    		   <li>Allele with Derivation notes - MGI:3576051; Alms1<sup>Gt(XH152)Byg</sup></li>
    		   <li>Allele with Derivation and General notes - MGI:3877998; Atp6ap1<sup>Gt(CSG104)Byg</sup></li>
    	    </ol></li>
    	    
    	    <li>Verify fields/links for Reference Ribbon - compare to Public
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele  with only 1 reference - MGI:1856137; Krt25<sup>Re</sup></li>
    		   <li>Allele with many references  - MGI:1859958; a<sup>4J</sup></li>
    	    </ol></li>
    	    
    	    <li>Verify ribbons already in the Fewi display as expected in the new framework
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with Recombinase section (but not phenotypes or disease) - MGI:4818775; Tg(ACTA1-rtTA,tetO-cre)102Monk</li>
    		   <li>Allele with Phenotypes section (but not recombinase or disease) - MGI:2182470; Brca1<sup>tm2.1Cxd</sup></li>
    		   <li>Allele with Disease section (but not recombinase or phenotypes) - per Sue Bello this is not allowed per curatorial policy</li>
    		   <li>Allele with Recomb & Pheno (no Disease) - MGI:5314932; Aicda<sup>tm1(cre)Njen</sup></li>
    		   <li>Allele with Pheno & Disease (no Recom) - MGI:3696057; Brca1<sup>tm1Brn</sup></li>
    		   <li>Allele with Recomb, Pheno, and Disease - MGI:1934631; Lyz2<sup>tm1(cre)Ifo</sup></li>
    		   <li>Allele with none of these sections - MGI:4159004; Brca1<sup>Gt(OST44235)Lex</sup>
    	    </ol></li>
    	    
    	    <li>Verify page display/links in all supported browsers - I/E, Firefox, Safari, Chrome (not officially supported, but gaining)
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with ajax sections: Recomb, Pheno, and Disease - MGI:1934631; Lyz2<sup>tm1(cre)Ifo</sup></li>
    		   <li>Allele with sequence tags, genome context sections - MGI:4123896; Lama5<sup>Gt(LST031)Byg</sup></li>
    		   <li>Allele with a long description in the Mutation Description ribbon - MGI:3584133; Ccne1<sup>tm1Jro</sup></li>
    		   <li>Allele with multiple images - MGI:2158390; Bmpr1a<sup>tm2.1Bhr</sup></li>
    		   <li>Allele with data in all ribbons - MGI:1932522; Foxg1<sup>tm1(cre)Skm</sup></li>
    	    </ol></li>
    	    
    	    <li>Verify Allele Detail KEYWORDS meta data - used for Search Engine Optimization (SEO)
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Spontaneous allele w/ superscript and synonyms - MGI:1856150, Bmp5<sup>se</sup>.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, mutant, mutation, spontaneous, {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>Spontaneous allele w/o superscript or synonyms - MGI:1856589, Aft.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, mutant, mutation, spontaneous, {allele symbol}</li></ul></li>
    		   <li>Targeted (knock-out) allele w/ superscript and synonyms - MGI:2152217.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, null, KO, knock out, knockout, mutant, mutation, targeted (knock-out), {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>Targeted (Floxed/Frt) allele w/ superscript and synonyms - MGI:3828307.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, floxed, loxP, frt, mutant, mutation, targeted (floxed/frt), {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>Flp  allele w/ superscript and synonyms - MGI:2158498.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, recombinase, flp, cre, flpe, mutant, mutation, {allele type}, {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>Cre allele w/o synonyms - MGI:5443915.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, recombinase, flp, cre, flpe, mutant, mutation, {allele type}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>Transposase allele - MGI:5473270.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, transposase, mutant, mutation, transposase, {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>QTL allele - MGI:3618098.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, QTL, {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    		   <li>Transgenic allele - MGI:3037035, Celf4<sup>Ff</sup>.
    		   <ul><li>Expected result: mouse, mice, murine, Mus, allele, transgenic, mutant, mutation, {allele type}, {list of synonyms}, {allele symbol w/ pointy brackets}</li></ul></li>
    	    </ol></li>
    	    
    	    <li>Verify Allele Detail DESCRIPTION meta data - used for Search Engine Optimization (SEO)
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Allele with molecular notes, disease models, and images - MGI:1928768, Crebbp<sup>tm1Sis</sup>
    		   <ul><li>Expected result: View {allele symbol} allele: origin, molecular description, images, human disease models, gene associations, and references</li></ul></li>
    		   <li>Allele with molecular notes (no models or images) - MGI:4819952, Comt<sup>B2i</sup>.
    		   <ul><li>Expected result: View {allele symbol} allele: origin, molecular description, gene associations, and references</li></ul></li>
    		   <li>Allele with no molecular notes, disease models, or images - MGI:1856234.
    		   <ul><li>Expected result: View {allele symbol} allele: origin, gene associations, and references</li></ul></li>
    	    </ol></li>
    	    
    	    <li>Verify Allele Detail ROBOTS meta data - used for Search Engine Optimization (SEO)
    		<p concordion:assertTrue="false">new test</p>  
    		<ol>
    		   <li>Any allele - MGI:1855976, Tyr<sup>c</sup>
    		   <ul><li>Expected result: NOODP and NOYDIR tags</li></ul></li>
    	    </ol></li>
    	    
		</ol>
	</div>
	<div id="sql">
	
	
 <!--  EXAMPLE TEST CASE USING DYNAMIC DATA SPREADSHEET AT https://docs.google.com/spreadsheet/ccc?key=0ArepxibBtJW2dEl0eEg1bElOc1Mxc1FnNGtmSmlUSlE#gid=2 
     			<li>
    			Query for <b concordion:set="#structure">4-cell stage</b> should return 
    			<b cc:assertEquals="getResultCount(#structure)"><b cc:dynamicData="countFor4CellStageResults"></b></b> assay results, 
    			<b cc:assertEquals="getAssayCount(#structure)"><b cc:dynamicData="countFor4CellStageAssays"></b></b> assays, 
    			and <b cc:assertEquals="getGeneCount(#structure)"><b cc:dynamicData="countFor4CellStageGenes"></b></b> genes.<br/></li>
  -->
 	</div>
</div>

</body>
</html>