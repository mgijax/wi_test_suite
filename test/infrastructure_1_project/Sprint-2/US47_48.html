<html xmlns:concordion="http://www.concordion.org/2007/concordion" xmlns:cc="http://fewi.custom.commands.FewiExtensions">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
	table {border-collapse: collapse; padding-bottom:5px; margin-bottom:5px;}
	table, th, td {border: 1px solid #CCCCCC;}
	td, th {padding:2px;}
	.man {background-color:#FFFFCC;}
	ul {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	ol {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	li {padding-left:2px; padding-top:0px; padding-bottom:0px; margin-left:25px;}
	p {margin:2px 0px;}
</style>

    <title>User Story 47, 48</title>
</head>

<body>

<div id="maintitle"><h1>Remove SNPs access & links from Prod WI</h1>
    <ul>
        <li>User Story 47 - Remove SNP db from Lindon and Prod WI SNP db access</li>
        <li>User Story 48 - Remove SNP page links from Prod WI</li>
    </ul>
</div><div id="TOC">
	<p>Contents: <a href="#maintitle">Title</a> | <a href="#acceptance">Test Requirements</a> | <a href="#manual">Manual Tests</a> | <a href="#sql">SQL Tests</a></p>
</div>



<div id="acceptance">
    <h2>Test Requirements</h2>
	<ol>
	   <li>Remove SNP database from Lindon
	       <ul><li>rename it so it's no longer accessed by any software</li>
	           <li>may be reused or removed by IT at a later date</li>
	       </ul></li>
	   <li>Remove SNP db access from Production WI software products
	       <ol><li>Marker Detail counts/links</li>
	           <li>SNP QF, Summary, Detail pages</li>
	           <li>Batch Query - output option</li>
	           <li>Summary of SNP Data in MGI - generated by Prod WI install script</li> 
	           <li>QS Indexer - Prod</li>
	       </ol></li>
       <li>Remove links to SNP pages from Production WI software products
           <ol><li>Toolbar pull-down menus (links to SNP QF and Summary of SNP Data in MGI)</li>
               <li>All Searchtools menu (links to SNP QF and Summary of SNP Data in MGI)</li>
               <li>Accession Query (links to SNP Detail)</li>
               <li>Batch Query - remove RefSNP input type</li>
           </ol></li>
       <li>Don't bother removing links from the following software products (links will just be broken)
           <ol><li>MGI Home (e.g. mini home pages)</li>
               <li>User Docs</li>
               <li>FAQ</li>
               <li>Web Stats</li>
           </ol></li>
	   
	</ol>
</div>


<div id="tests">
    <h2>Tests</h2>
    
	<div id="manual">
<!-- To insert manual test results, use the following:
<p concordion:assertTrue="true">testing assertTrue - displays as green</p>
<p concordion:assertTrue="false">testing assertFalse - displays as red</p>
 -->
		<h3>Manual tests</h3>
		
		<ol>
    		
    		<li>Verify SNP counts no longer present on the Marker Detail page
    		<p concordion:assertTrue="true">PASS - jlewis 6/6/2013</p>  
    		<ol>
    		   <li>Test marker  a,  that has associated SNPS.  Expected results: none displayed</li>
    		   <li>Test marker cw that has no SNPs.  Expected results: none displayed.</li>
    		   <li>Test marker Gm13280 that has associated SNPs, but no Polymorphism data.  Expected results: Poly ribbon not displayed</li>
    	    </ol></li>
    	    
    	    <li>Verify SNP QF, Summary, Detail pages no longer on Production
    		<p concordion:assertTrue="true">PASS - jlewis 6/6/2013</p>  
    		<ol>
    		   <li>Test SNP QF URL.  Expected results: no page found
    		   <ul><li>http://rohan.informatics.jax.org:8888/javawi2/servlet/WIFetch?page=snpQF</li></ul></li>
    		   <li>Test SNP Summary URL.  Expected results: no page found
    		   <ul><li>http://rohan.informatics.jax.org/usrlocalmgi/scrum-bob/wi/www/searches/snp_report.cgi?_Marker_key=10603</li></ul></li>
    		   <li>Test SNP Detail URL.  Expected results: no page found
    		   <ul><li>http://rohan.informatics.jax.org:8888/javawi2/servlet/WIFetch?page=snpDetail&id=rs13473272</li></ul></li>
    	    </ol></li>
    	      	  
    	    
    	    <li>Verify Batch Query no longer includes RefSNP options
    		<p concordion:assertTrue="true">PASS - jlewis 6/6/2013</p>  
    		<ol>
    		   <li>Enter a refsnp id, rs29678366.  Expected results: no match found (previously associated to Kit)</li>
    		   <li>Enter a refsnp id using the file upload feature.  Expected results: no match found</li>
    		   <li>Verify that the refsnp output option has been removed.</li>
    		   <li>Verify all output formats to verify none have been broken by the change.</li>
    	    </ol></li>
    	    
    	    <li>Verify Summary of SNP Data page no longer exists
    		<p concordion:assertTrue="true">PASS - jlewis 6/6/2013</p>  
    		<ol>
    		   <li>Test Summary of SNP Data URL.  Expected results: no page found
    		   <ul><li>http://rohan.informatics.jax.org/usrlocalmgi/scrum-bob/wi/www/reports/snpSummary.shtml</li></ul></li>
    		   <li>The full install of the Prod WI should verify that this page is no longer created at install time</li>
    	    </ol></li>
    	    
    	    <li>Verify the Production Quick Search Indexer no longer supports refsnps
    		<p concordion:assertTrue="true">PASS - No PROD install of QS in the Scrum-Bob, but verified this change happened as part of the Scrum-Dog 5.14 release on Firien</p>  
    		<ol>
    		   <li>Query for a valid rs29678366.  Expected results: no match.</li>
    		   <li>Query for a valid subsnp, ss45850817.  Expected results: no match.</li>
    		   <li>Do we need to install a Production QS for this project?</li>
    	    </ol></li>
    	    
    	    <li>Verify the Accession Query no longer queries snps
    		<p concordion:assertTrue="true">PASS - jlewis 6/6/2013</p>  
    		<ol>
    		   <li>Query for a valid rs29678366.  Expected results: no match.</li>
    		   <li>Query for a valid subsnp, ss45850817.  Expected results: no match.</li>
    		   <li>Query for a list of refsnp ids, rs6253434, rs27341957, rs29678366.  Expected results: no match.</li>
    		   <li>Query for a list of ids - include a refsnp id: MGI:96677, rs29678366.  Expected results: other ids return in summary report, but not refsnp.</li>
    		</ol></li>
    		
    		<li>Verify links removed from menus
    		<p concordion:assertTrue="true">PASS - jlewis 6/6/2013</p>  
    		<ol>
    		   <li>Verify 2 SNP links removed from Search pull-down menu.</li>
    		   <li>Verify 2 SNP links removed from All Search menu.</li>
    		   <li>Verify SNP QF link removed from Polymorph QF</li>
    		</ol></li>
    	    
		</ol>
	</div>
	<div id="sql">
	
	
 <!--  EXAMPLE TEST CASE USING DYNAMIC DATA SPREADSHEET AT https://docs.google.com/spreadsheet/ccc?key=0ArepxibBtJW2dEl0eEg1bElOc1Mxc1FnNGtmSmlUSlE#gid=2 
     			<li>
    			Query for <b concordion:set="#structure">4-cell stage</b> should return 
    			<b cc:assertEquals="getResultCount(#structure)"><b cc:dynamicData="countFor4CellStageResults"></b></b> assay results, 
    			<b cc:assertEquals="getAssayCount(#structure)"><b cc:dynamicData="countFor4CellStageAssays"></b></b> assays, 
    			and <b cc:assertEquals="getGeneCount(#structure)"><b cc:dynamicData="countFor4CellStageGenes"></b></b> genes.<br/></li>
  -->
 	</div>
</div>

</body>
</html>